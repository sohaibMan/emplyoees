(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[940],{8117:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashbord/jobs",function(){return n(6393)}])},6393:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(1799),s=n(9396),a=n(5893),c=n(7294),i=n(1163),o=n(9473);n(3977);var d=function(e){var t=(0,c.useState)(!1),n=(t[0],t[1]),r=function(){n(!0)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",{onClick:r,className:"btn btn-primary",children:"Add Job"})})},l=n(3980),u=n(9678),m=n(5455),h=n(8587),f=n(9008),p=n(7959),j=n(6775),x=function(){var e=(0,o.v9)(function(e){return e.jobs}).filteredjobs,t=(0,o.v9)(function(e){return e.jobs}).jobs,n=(0,o.v9)(function(e){return e.authentication}).isLoggedIn,x=(0,o.v9)(function(e){return e.departments}).filtereddepartments,b=(0,o.v9)(function(e){return e.employees}).employees,v=b.map(function(e){return e.jobName});(0,c.useEffect)(function(){n||w.push("/"),n&&0===e.length&&_((0,j.bG)()),n&&0===x.length&&_((0,f.$W)()),n&&0===b.length&&_((0,p.CU)())},[]);var N=function(t){confirm("Do you wanna really remove ".concat(t.target.dataset.name," who has the id :").concat(t.target.dataset.id||t.target.dataset.name))&&!v.includes(t.target.dataset.name)?(_((0,j.WR)({name:t.target.dataset.name})),_((0,j.eX)({name:t.target.dataset.name,jobs:e}))):alert("cannot delete a used job(in employees)")},g=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("th",{scope:"row",children:e.name}),(0,a.jsx)("td",{children:e.description}),(0,a.jsx)("td",{children:e.DepratmentName})]})},w=(0,i.useRouter)(),_=(0,o.I0)(),y={description:{type:"text"}},E=(0,c.useRef)(),R=(0,c.useRef)(),D=(0,c.useRef)();(0,c.useRef)();var Z=function(e){var t,n={name:(null===(t=E.current)||void 0===t?void 0:t.value)||e.name,DepratmentName:D.current.value||e.name,description:R.current.value||e.description};_((0,j.gw)(n))},k={refrences:{jobNameRef:E,depratmentNameRef:D,descriptionRef:R},deleteHanlder:N,departments:x,onSubmit:Z},C=function(e){_((0,j.Di)({target:e,jobs:t}))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{children:(0,a.jsx)(h.Z,{OnSearch:C})}),(0,a.jsx)("div",{className:"container pt-5",children:(0,a.jsxs)("div",{className:"row ",children:[(0,a.jsx)(u.Z,{children:(0,a.jsx)(d,{})}),(0,a.jsx)("div",{className:"col-9 p-0",children:(0,a.jsxs)("table",{className:"table table-striped r m-0",children:[(0,a.jsx)("thead",{className:"bg-primary ",children:(0,a.jsxs)("tr",{className:"text-white",children:[(0,a.jsx)("th",{scope:"col",children:"Job NAME"}),(0,a.jsx)("th",{scope:"col",children:"Description"}),(0,a.jsx)("th",{scope:"col",children:"departments Name"}),(0,a.jsx)("th",{scope:"col",children:"Details"}),(0,a.jsx)("th",{scope:"col",children:"Edit"}),(0,a.jsx)("th",{scope:"col",children:"Delete"})]})}),(0,a.jsx)("tbody",{children:e.map(function(e,t){return(0,c.createElement)(l.Z,(0,s.Z)((0,r.Z)({},k),{EditFormStructure:y,key:t,el:e}),(0,a.jsx)(g,(0,r.Z)({},e)))})})]})})]})})]})}}},function(e){e.O(0,[424,548,286,774,888,179],function(){return e(e.s=8117)}),_N_E=e.O()}]);